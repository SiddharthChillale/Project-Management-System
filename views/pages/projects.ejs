<!doctype html>
<html lang="en" data-theme="light">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <%- include('../partials/header.ejs'); %>
        <title >Projects-All</title>
    </head>
    <body class="has-background-light">
        
        <div class="columns ">
                <%- include ('../partials/menu.ejs'); %>
            <section class="is-medium column p-0 ">
                <div class="container content my-3">
                    <%- include ('../partials/navbar.ejs'); %>
                    
                    <div class="mr-2">
                        <div class="p-1">
                            <div class="grid is-col-min-14 is-gap-1">

                                <% for( let pi = 0; pi < projects.length; pi ++ ) { %>
                                    <div class = " cell p-4 has-background-white">
                                        <span class="flex">
                                            <div class="cell">
                                                <a class="title is-3 has-text-primary" href="<%= `/api/v1/projects/${projects[pi].id}`%>"><%= projects[pi].name %></a> 
                                            </div>
                                            <div class="cell mt-2 ">
                                                <span class="subtitle has-text-primary-dark is-5">Seats available: <%= projects[pi].teamSize - projects[pi]._count.projectAssociations %>/<%= projects[pi].teamSize%></span>
                                            </div>
                                            <div class="mt-3 cell content" style="max-height: 300px; overflow: hidden;">
                                                <%= projects[pi].description %> 
                                            </div>
                                                <br/>
                                                <button class="cell button is-secondary is-small"><a href="<%= `/api/v1/projects/${projects[pi].id}`%>">Read More</a></button>
                                                <button class="cell button is-primary is-small"><a href="<%= `/api/v1/projects/${projects[pi].id}`%>">Enroll</a></button>
                                        </span>
                                    </div>
                                <% } %>
                            </div>
                        </div>
                        <div class="pagination m-0 p-2" role="navigation" aria-label="pagination">
                            <a class="pagination-previous is-disabled my-0" title="This is the first page">Previous</a>
                            <a href="#" class="pagination-next my-0">Next page</a>
                            <ul class="pagination-list ">
                            <li>
                                <a
                                class="pagination-link is-current"
                                aria-label="Page 1"
                                aria-current="page"
                                >1</a
                                >
                            </li>
                            <li>
                                <a href="#" class="pagination-link" aria-label="Goto page 2">2</a>
                            </li>
                            <li>
                                <a href="#" class="pagination-link" aria-label="Goto page 3">3</a>
                            </li>
                            </ul>
                        </div> 
                    </div>

                </div>
                
            </section>
        </div>
        
        <%- include('../partials/footer.ejs'); %>
    </body>
</html>
